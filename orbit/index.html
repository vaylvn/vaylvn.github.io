<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>orbit.</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <!-- Screen: Home -->
    <section id="screen-home" class="screen active">
	
      <h1 class="logo">
		orbit<span class="accent">.</span>
	  </h1>

      <p class="desc">Tap rhythm ¬∑ miss once and it‚Äôs over</p>

      <div class="row">
        <button id="playBtn">Play</button>
        <button id="viewLBBtn">Leaderboards</button>
      </div>

      <div id="keyHints" class="key-hints">
		  <span><kbd>Space</kbd> Play</span>
		  <span><kbd>Backspace</kbd> Leaderboards</span>
		</div>
		
    </section>

    <!-- Screen: Game -->
    <section id="screen-game" class="screen">
      <div id="gameWrap">
        <canvas id="gameCanvas"></canvas>
        <p id="msg" class="hint">Tap / Space to start</p>
      </div>
    </section>

    <!-- Screen: Results -->
	<section id="screen-results" class="screen">

	  <!-- Share preview (visual focus) -->
	  <canvas id="shareCanvas" width="1080" height="1080"></canvas>


	  <!-- Player name -->
	  <input id="nameInput"
			 maxlength="3"
			 placeholder="AAA"
			 autocomplete="off" />

	  <!-- Actions -->
	  <div class="row">
		<button id="submitBtn">Submit</button>
		<button id="playAgainBtn">Play Again</button>
		<button id="menuBtn">Menu</button>
		<button id="cameraBtn" title="Copy image (Shift-click to save)">üì∑</button>
	  </div>
	  
	  <div id="keyHints" class="key-hints">
		  <span><kbd>Space</kbd> Play again</span>
		  <span><kbd>Enter</kbd> Submit Score</span>
		  <span><kbd>Esc</kbd> Menu</span>
		</div>


	</section>


    <!-- Screen: Leaderboard -->
    <section id="screen-leaderboard" class="screen">
      <button id="backBtnLB" class="small">‚Üê Back</button>
      <h2>Leaderboards</h2>
	  
	  <div class="device-tabs">
		<button data-type="combined" class="active">All</button>
		<button data-type="pc">PC</button>
		<button data-type="mobile">Mobile</button>
	  </div>

	  <ul id="lbCombined"></ul>
	  <ul id="lbPC" class="hidden"></ul>
	  <ul id="lbMobile" class="hidden"></ul>
	  
	  <div id="keyHints" class="key-hints">
		  <span><kbd>Esc</kbd> Menu</span>
		</div>
	  
    </section>
	
  </main>

	<script type="module">
	  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
	  import {
		getFirestore,
		collection,
		addDoc,
		getDocs,
		query,
		orderBy,
		limit
	  } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

	  const firebaseConfig = {
		apiKey: "AIzaSyCrf4dRp5NA4XJQt7tAptYMPyInIX-BwSM",
		authDomain: "orbit-a63af.firebaseapp.com",
		projectId: "orbit-a63af",
		storageBucket: "orbit-a63af.firebasestorage.app",
		messagingSenderId: "514603325684",
		appId: "1:514603325684:web:ddabcad8e78a94c4cfa6a1"
	  };

	  const app = initializeApp(firebaseConfig);
	  const db = getFirestore(app);

	  // expose minimal API (Numi-style)
	  window.db = db;
	  window.firestoreFns = {
		collection,
		addDoc,
		getDocs,
		query,
		orderBy,
		limit
	  };
	</script>


  <script type="module" src="script.js"></script>
</body>
</html>
