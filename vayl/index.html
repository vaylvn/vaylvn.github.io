<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Vayl</title>

    <link rel="icon" href="assets/logo.png" type="image/png">
    <link rel="stylesheet" href="style.css">

    <!-- REQUIRED FOR MONACO -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>

</head>


<body>

<!-- ======================= -->
<!--        TOP BAR          -->
<!-- ======================= -->
<div id="topbar">
    <img src="assets/logo.png" class="topbar-logo" />

    <div class="topbar-tabs">
        <div id="tab-console" class="topbar-tab active" onclick="switchMode('console')">Console</div>
        <div id="tab-config" class="topbar-tab" onclick="switchMode('config')">Configuration</div>
    </div>
	
	<div id="share-btn" onclick="openShareModal()">Share</div>
	
</div>

<div id="share-modal" class="hidden">
    <div id="share-modal-content">
        <h3>Connect Another Device</h3>
        <p>Scan this QR code from your phone/tablet:</p>

        <div id="qr-canvas"></div>

        <div id="share-close" onclick="closeShareModal()">Close</div>
    </div>
</div>



<!-- ======================= -->
<!--       MAIN LAYOUT       -->
<!-- ======================= -->

<div id="app">

    <!-- ---- Console Panel ---- -->
    <div id="console-panel">
        <div id="console-output"></div>
    </div>

    <!-- ---- Sidebar (Config Mode Only) ---- -->
    <div id="sidebar">
		<input id="tree-search" placeholder="Search..." />
		<div id="tree-container"></div>
	</div>

    <!-- ---- Editor Panel ---- -->
    <div id="editor-panel">
		

		<div id="editor-container">
			<div id="editor"></div>
			<div id="tag-float" class="hidden">
				<div id="tag-float-header">
					<span>Tags</span>
					<div id="tag-float-close">âœ•</div>
				</div>

				<input id="tag-float-search" placeholder="Search..." />

				<div class="tag-section">
					<div class="tag-title">Generic Tags</div>
					<div id="tag-generic"></div>
				</div>

				<div class="tag-section" id="event-tag-section" style="display:none;">
					<div class="tag-title">Event Tags</div>
					<div id="tag-event"></div>
				</div>
			</div>
		</div>


		<!-- <div id="tag-toggle-btn" onclick="toggleTagPanel()">Tags</div> -->


		<div id="tag-panel" class="hidden">
			<input id="tag-search" placeholder="Search tags..." oninput="filterTagList()">
			<div id="tag-list"></div>
		</div>
		
		<div id="editor-toolbar">
			<button class="editor-btn" onclick="saveFile()">Save</button>
			<button class="editor-btn" onclick="toggleTags()">Tags</button>
		</div>
		
	</div>


</div>


<!-- ======================= -->
<!--    CONTEXT MENU UI      -->
<!-- ======================= -->


<div id="editor-context-menu" class="hidden">
    <div onclick="ctxAction('clean')">Clean</div>
    <div onclick="ctxAction('compact')">Compact</div>
    <div onclick="ctxAction('highlight')">Highlight</div>
</div>



<div id="context-menu" class="hidden">
    <div data-action="new-file"   onclick="createFile()">New File</div>
    <div data-action="new-folder" onclick="createFolder()">New Folder</div>
    <div data-action="rename"     onclick="renameNode()">Rename</div>
    <div data-action="delete"     onclick="deleteNode()">Delete</div>
</div>





<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="script.js"></script>


</body>
</html>
